import{a as Y}from"./chunk-6VYLHM65.js";import{a as q}from"./chunk-HG7DB6L2.js";import{b as G,e as x,f as V,h as P,j as B,k as H,l as k,o as z,p as J,q as K,r as Q}from"./chunk-4ZXNYKJD.js";import{a as X}from"./chunk-WB6ARDAB.js";import{a as D,c as W,m as j,o as y}from"./chunk-HXFCOTNJ.js";import{$b as L,Ba as O,Gb as a,Hb as r,Mb as T,Pb as b,Qc as R,Rc as F,Yb as S,Zb as d,ab as s,ac as U,bb as A,bc as g,cc as f,dc as h,ha as N,ia as E,ka as I,la as M,ra as _,sa as C,vb as u,xb as c}from"./chunk-OCYIH7HC.js";var v=class{};var $=(()=>{let e=class e{constructor(t){this.http=t,this.URL="http://20.49.205.136:3000/allowances",this.httpOptions={headers:new D({"Content-Type":"application/json"})}}createAllowance(t){return this.http.post(this.URL,t,this.httpOptions)}getAllAllowances(){return this.http.get(this.URL,this.httpOptions)}getAllowancesByMonth(t){return this.http.get(`${this.URL}/month/${t}`,this.httpOptions)}getAllowancesByUserId(t){return this.http.get(`${this.URL}/user/${t}`,this.httpOptions)}};e.\u0275fac=function(l){return new(l||e)(O(W))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function ie(i,e){i&1&&(a(0,"div",21),d(1," Description is required "),r())}function ne(i,e){i&1&&(a(0,"div",21),d(1," Amount is required "),r())}function oe(i,e){if(i&1&&(a(0,"option",22),d(1),r()),i&2){let p=e.$implicit;c("value",p),s(),L("",p," ")}}function re(i,e){if(i&1&&(a(0,"option",22),d(1),r()),i&2){let p=e.$implicit;c("value",p.id),s(),U("",p.firstname," ",p.lastname,"")}}var ee=(()=>{let e=class e{constructor(t,l,n){this.allowanceService=t,this.userService=l,this.router=n,this.allowance=new v,this.allUsers=[],this.categories=["FOOD","TRANSPORTATION","LODGING","ENTERTAINMENT","MISCELLANEOUS"]}ngOnInit(){this.loadAllUsers()}loadAllUsers(){this.userService.getAllUsers().subscribe(t=>{this.allUsers=t},t=>{console.error(t)})}add(t){if(t.valid){let l={id:"",userId:t.value.user,description:t.value.description,category:t.value.category,amount:t.value.amount,date:new Date().toISOString().toString()};this.allowanceService.createAllowance(l).subscribe(()=>{alert("Allowance added successfully!"),this.router.navigate(["home/allowance"])},n=>{console.error(n)})}}};e.\u0275fac=function(l){return new(l||e)(A($),A(q),A(j))},e.\u0275cmp=N({type:e,selectors:[["app-add-allowance"]],decls:34,vars:8,consts:[[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"main-body"],[1,"page-wrapper"],[1,"container"],[3,"ngSubmit"],["addForm","ngForm"],[1,"form-group"],["for","description"],["type","text","id","description","name","description","required","","placeholder","Enter description",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["for","amount"],["type","number","id","amount","name","amount","required","","placeholder","Enter amount",1,"form-control",3,"ngModel","ngModelChange"],["for","category"],["id","category","name","category","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","user"],["id","user","name","user","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary"],[1,"text-danger"],[3,"value"]],template:function(l,n){if(l&1){let m=T();a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5"),d(8,"Add Allowance"),r(),a(9,"form",7,8),b("ngSubmit",function(){I(m);let o=S(10);return M(n.add(o))}),a(11,"fieldset")(12,"div",9)(13,"label",10),d(14,"Description:"),r(),a(15,"input",11),h("ngModelChange",function(o){return f(n.allowance.description,o)||(n.allowance.description=o),o}),r(),u(16,ie,2,0,"div",12),r(),a(17,"div",9)(18,"label",13),d(19,"Amount:"),r(),a(20,"input",14),h("ngModelChange",function(o){return f(n.allowance.amount,o)||(n.allowance.amount=o),o}),r(),u(21,ne,2,0,"div",12),r(),a(22,"div",9)(23,"label",15),d(24,"Category:"),r(),a(25,"select",16),h("ngModelChange",function(o){return f(n.allowance.category,o)||(n.allowance.category=o),o}),u(26,oe,2,2,"option",17),r()(),a(27,"div",9)(28,"label",18),d(29,"User:"),r(),a(30,"select",19),h("ngModelChange",function(o){return f(n.allowance.userId,o)||(n.allowance.userId=o),o}),u(31,re,2,3,"option",17),r()()(),a(32,"button",20),d(33,"Submit"),r()()()()()()()()()}if(l&2){let m=S(10);s(15),g("ngModel",n.allowance.description),s(),c("ngIf",m.controls.description.errors==null?null:m.controls.description.errors.required),s(4),g("ngModel",n.allowance.amount),s(),c("ngIf",m.controls.amount.errors==null?null:m.controls.amount.errors.required),s(4),g("ngModel",n.allowance.category),s(),c("ngForOf",n.categories),s(4),g("ngModel",n.allowance.userId),s(),c("ngForOf",n.allUsers)}},dependencies:[R,F,H,J,K,G,k,z,x,V,Q,B,P]});let i=e;return i})();var ae=[{path:"",component:ee,canActivate:[X,Y]}],Se=(()=>{let e=class e{};e.\u0275fac=function(l){return new(l||e)},e.\u0275mod=E({type:e}),e.\u0275inj=C({imports:[y.forChild(ae),y]});let i=e;return i})();export{Se as a};
