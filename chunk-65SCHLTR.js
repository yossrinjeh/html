import{a as ae}from"./chunk-VKBCP5J6.js";import{b as H,e as F,f as M,h as W,j as X,k as D,m as ee,n as te,o as V,p as g,q as x,r as _,t as ie,u as oe,v as ne}from"./chunk-O6ZXFWJR.js";import{a as K,c as Q,k as w,m as b,o as j}from"./chunk-VM527ZQ7.js";import{$b as v,Ba as G,Ca as $,Kb as N,La as q,Lb as Y,M as L,Mb as c,Vb as i,Wb as t,Xb as r,cc as y,ec as C,hd as z,id as J,mb as p,mc as Z,nb as s,nc as n,oc as I,od as P,ra as u,sa as R,ua as h,v as U,va as f,wa as B}from"./chunk-DOLGZFZY.js";var S=(()=>{let o=class o{constructor(e){this.http=e,this.URL="http://localhost:3000/holiday-management",this.httpOtions={headers:new K({"Content-type":"application/json"})}}getAll(){return this.http.get(this.URL,this.httpOtions)}addHoliday(e){return this.http.post(this.URL,e,this.httpOtions)}getHolidayById(e){return this.http.get(`${this.URL}/${e}`,this.httpOtions).pipe(L(a=>(console.error("Error fetching holiday by ID:",a),U(a))))}updateHoliday(e,a){return this.http.put(`${this.URL}/${e}`,a,this.httpOtions)}deleteHoliday(e){return this.http.delete(`${this.URL}/${e}`,this.httpOtions)}};o.\u0275fac=function(a){return new(a||o)(q(Q))},o.\u0275prov=G({token:o,factory:o.\u0275fac,providedIn:"root"});let l=o;return l})();var k=(()=>{let o=class o{constructor(e,a){this.holidayService=e,this.router=a}add(e){if(e.valid){let a={id:"",name:e.value.name,date:e.value.date,duration:e.value.duration,shift:e.value.shift};this.holidayService.addHoliday(a).subscribe(()=>{alert("Added Successfully!"),this.router.navigate(["holiday/"])},m=>{console.error(m)})}}};o.\u0275fac=function(a){return new(a||o)(s(S),s(b))},o.\u0275cmp=u({type:o,selectors:[["app-add-holiday"]],decls:42,vars:0,consts:[["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],["addForm","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","id","name","name","name","ngModel","","required","","placeholder","Tapez le nom",1,"form-control"],["fn","ngModel"],["for","capacite"],["type","date","id","date","name","date","ngModel","","required","","placeholder","Date",1,"form-control"],["type","text","id","duration","name","duration","ngModel","","required","","placeholder","Tapez le nom",1,"form-control"],["for","Shift"],["id","shift","name","shift","ngModel","","required","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"]],template:function(a,m){if(a&1){let E=v();i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),n(4,"Modal title"),t(),i(5,"button",4)(6,"span",5),n(7,"\xD7"),t()()(),i(8,"div",6)(9,"form",7,8),y("ngSubmit",function(){h(E);let me=Z(10);return f(m.add(me))}),i(11,"div",9)(12,"label",10),n(13,"Name :"),t(),r(14,"input",11,12),t(),i(16,"div",9)(17,"label",13),n(18," Date :"),t(),r(19,"input",14,12),t(),i(21,"div",9)(22,"label",10),n(23,"Duration :"),t(),r(24,"input",15,12),t(),i(26,"div",9)(27,"label",16),n(28,"Shift"),t(),i(29,"select",17,12)(31,"option"),n(32," DAY_ONLY"),t(),i(33,"option"),n(34," NIGHT_ONLY"),t(),i(35,"option"),n(36,"BOTH_SHIFTS"),t()()(),i(37,"div",18)(38,"button",19),n(39,"Submit"),t(),i(40,"button",20),n(41,"Close"),t()()()()()()}},dependencies:[D,g,x,H,V,F,M,_,X,W]});let l=o;return l})();function ce(l,o){if(l&1){let d=v();i(0,"form",7)(1,"div",8)(2,"label",9),n(3,"Name :"),t(),r(4,"input",10),t(),i(5,"div",8)(6,"label",11),n(7,"Date :"),t(),r(8,"input",12),t(),i(9,"div",8)(10,"label",11),n(11,"Duration :"),t(),r(12,"input",13),t(),i(13,"div",8)(14,"label",14),n(15,"Shift"),t(),i(16,"select",15)(17,"option"),n(18,"DAY_ONLY"),t(),i(19,"option"),n(20,"NIGHT_ONLY"),t(),i(21,"option"),n(22,"BOTH_SHIFTS"),t()()(),i(23,"button",16),y("click",function(){h(d);let a=C();return f(a.updateholiday())}),n(24,"Submit"),t()()}if(l&2){let d=C();c("formGroup",d.updateForm)}}var A=(()=>{let o=class o{constructor(e,a,m,E){this.route=e,this.router=a,this.formB=m,this.holidayService=E}ngOnInit(){this.Id!=null&&this.holidayService.getHolidayById(this.Id).subscribe(e=>{"name"in e&&(console.log(e),this.holiday=e,this.updateForm=this.formB.group({name:[""],date:[""],duration:[""],shift:[""]}),this.updateForm.patchValue(e))})}updateholiday(){this.holiday.date=this.updateForm.value.date,this.holiday.duration=this.updateForm.value.duration,this.holiday.shift=this.updateForm.value.shift,this.holiday.name=this.updateForm.value.name,this.holidayService.updateHoliday(this.holiday.id,this.holiday).subscribe(e=>{alert("User Updated Successfully!"),console.log(this.holiday),this.router.navigate(["home/holiday"])},e=>{console.error("Update failed:",e)})}};o.\u0275fac=function(a){return new(a||o)(s(w),s(b),s(ie),s(S))},o.\u0275cmp=u({type:o,selectors:[["app-update-holiday"]],inputs:{Id:"Id"},decls:8,vars:1,consts:[[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","value","","id","name","name","name","formControlName","name","placeholder","Tapez le nom",1,"form-control"],["for","capacite"],["type","date","id","date","name","date","formControlName","date","placeholder","Capacit\xE9",1,"form-control"],["type","text","id","duration","name","duration","formControlName","duration","placeholder","duration",1,"form-control"],["for","Universit\xE9"],["id","shift","name","shift","formControlName","shift","required","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(a,m){a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),n(4,"Add Announcement"),t(),r(5,"button",4),t(),i(6,"div",5),N(7,ce,25,1,"form",6),t()()()),a&2&&(p(7),c("ngIf",m.updateForm))},dependencies:[J,D,g,x,H,V,F,M,_,ee,te]});let l=o;return l})();function he(l,o){if(l&1){let d=v();i(0,"tr")(1,"td",31)(2,"div",22),r(3,"input",32),t()(),i(4,"td",33),n(5),t(),i(6,"td",34),n(7),t(),i(8,"td",35),n(9),t(),i(10,"td",36),n(11),t(),i(12,"td")(13,"button",37),r(14,"i",38),t(),i(15,"div",39),r(16,"app-update-holiday",40),t()(),i(17,"td")(18,"button",41),y("click",function(){let m=h(d).$implicit,E=C();return f(E.onDelete(m.id))}),B(),i(19,"svg",42),r(20,"path",43)(21,"path",44),t()()()()}if(l&2){let d=o.$implicit,e=o.index;p(5),I(d==null?null:d.name),p(2),I(d==null?null:d.duration),p(2),I(d.date),p(2),I(d.shift),p(2),Y("data-bs-target","#exampleModalupdate"+e),p(2),c("id","exampleModalupdate"+e),p(),c("Id",d.id)}}var de=(()=>{let o=class o{onDelete(e){this.holidayService.deleteHoliday(e).subscribe(a=>{this.ngOnInit()})}navigateToUpdate(e){console.log(e),this.router.navigateByUrl("home/holiday/Update/"+e)}constructor(e,a,m){this.holidayService=e,this.route=a,this.router=m,this.holidays=[]}navigatetoAdd(){this.router.navigateByUrl("home/holiday/add")}ngOnInit(){this.holidayService.getAll().subscribe(e=>{console.log(e),this.holidays=e})}};o.\u0275fac=function(a){return new(a||o)(s(S),s(w),s(b))},o.\u0275cmp=u({type:o,selectors:[["app-list-holiday"]],decls:44,vars:1,consts:[[1,"pcoded-main-container"],[1,"pcoded-wrapper"],[1,"pcoded-content"],[1,"pcoded-inner-content"],[1,"container"],[1,"d-flex","align-items-center","justify-content-end","my-3"],["id","bulk-select-replace-element"],["data-toggle","modal","data-target","#add","type","button",1,"btn","btn-phoenix-success","btn-sm"],["data-fa-transform","shrink-3 down-2",1,"fas","fa-plus"],[1,"ms-1"],["id","add","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","bulk-select-actions",1,"d-none","ms-3"],[1,"d-flex"],["aria-label","Bulk actions",1,"form-select","form-select-sm"],["selected",""],["value","Delete"],["value","Archive"],["type","button",1,"btn","btn-phoenix-danger","btn-sm","ms-2"],["id","tableExample","data-list",'{"valueNames":["id","name","job","date","status","reason","shift"],"page":5,"pagination":true}'],[1,"table-responsive","mx-n1","px-1"],[1,"table","table-sm","border-top","border-200","fs--1","mb-0"],[1,"white-space-nowrap","fs--1","align-middle","ps-0",2,"max-width","20px","width","18px"],[1,"form-check","mb-0","fs-0"],["id","bulk-select-example","type","checkbox","data-bulk-select",'{"body":"bulk-select-body","actions":"bulk-select-actions","replacedElement":"bulk-select-replace-element"}',1,"form-check-input"],["data-sort","name",1,"sort","align-middle"],["data-sort","job",1,"sort","align-middle"],["data-sort","date",1,"sort","align-middle"],["data-sort","shift",1,"sort","align-middle"],["scope","col",1,"sort","text-end","align-middle","pe-0"],["id","bulk-select-body",1,"list"],[4,"ngFor","ngForOf"],[1,"fs--1","align-middle"],["type","checkbox","data-bulk-select-row",'{"id":"1","name":"John Doe","job":"Software Engineer","date":"2024-03-05","status":"Present","reason":"","shift":"Full Day"}',1,"form-check-input"],[1,"align-middle","name"],[1,"align-middle","job"],[1,"align-middle","date"],[1,"align-middle","status"],["type","button","data-bs-toggle","modal","data-toggle","tooltip","data-placement","top","title","Edit",1,"btn","btn-success","btn-sm","rounded-0"],[1,"fa","fa-edit"],["tabindex","-1","aria-labelledby","exampleModalupdate","aria-hidden","true",1,"modal","fade",3,"id"],[3,"Id"],["type","button",1,"remove",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"],["d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"]],template:function(a,m){a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),r(8,"span",8),i(9,"span",9),n(10,"New"),t()(),i(11,"div",10),r(12,"app-add-holiday"),t()(),i(13,"div",11)(14,"div",12)(15,"select",13)(16,"option",14),n(17,"Bulk actions"),t(),i(18,"option",15),n(19,"Delete"),t(),i(20,"option",16),n(21,"Archive"),t()(),i(22,"button",17),n(23," Apply "),t()()()(),i(24,"div",18)(25,"div",19)(26,"table",20)(27,"thead")(28,"tr")(29,"th",21)(30,"div",22),r(31,"input",23),t()(),i(32,"th",24),n(33,"Name"),t(),i(34,"th",25),n(35,"Duration"),t(),i(36,"th",26),n(37,"Date"),t(),i(38,"th",27),n(39,"Shift"),t(),i(40,"th",28),n(41," ACTION "),t()()(),i(42,"tbody",29),N(43,he,22,7,"tr",30),t()()()()()()()()()),a&2&&(p(43),c("ngForOf",m.holidays))},dependencies:[z,g,x,k,A]});let l=o;return l})();var fe=[{path:"",component:de,canActivate:[ae]},{path:"add",component:k},{path:"Update/:id",component:A}],Fe=(()=>{let o=class o{};o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=R({type:o}),o.\u0275inj=$({imports:[P,j.forChild(fe),oe,ne,j]});let l=o;return l})();export{Fe as a};
